<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Resumen del Boleto</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script defer src="reserva.js"></script>
  </head>

  <body class="bg-light">
    <div class="container-sm mt-4">
      <h4 class="mb-3 text-center">Resumen del Boleto</h4>

      <div id="boletoResumen" class="card shadow p-3 d-none">
        <p class="mb-2">
          <strong>RUT:</strong> <span id="rut" class="text-break"></span>
        </p>
        <p class="mb-2">
          <strong>ID Bus:</strong> <span id="id_bus" class="text-break"></span>
        </p>
        <p class="mb-2">
          <strong>Estado del Boleto:</strong>
          <span id="estado_boleto" class="fw-bold text-primary"></span>
        </p>
        <p class="mb-2">
          <strong>Fecha de Viaje:</strong> <span id="fecha_viaje"></span>
        </p>
        <p class="mb-2">
          <strong>Hora de Viaje:</strong> <span id="hora_viaje"></span>
        </p>
        <p class="mb-2">
          <strong>Asiento Seleccionado:</strong>
          <span id="asientoSeleccionado" class="fw-bold text-success"></span>
        </p>
      </div>

      <div class="d-grid pt-3">
        <button id="atras" class="btn btn-primary">Atrás</button>
      </div>

      <div id="boletoConfirmado" class="card shadow p-3 mt-4 d-none">
        <h5 class="text-success mb-3">Boleto Confirmado</h5>
        <h4 class="mb-2">
          <strong>Numero Boleto:</strong> <span id="operator_pnr"></span>
        </h4>
        <p class="mb-2">
          <strong>Número de Ticket:</strong> <span id="ticket_number"></span>
        </p>
        <p class="mb-2"><strong>Origen:</strong> <span id="origen"></span></p>
        <p class="mb-2"><strong>Destino:</strong> <span id="destino"></span></p>
        <p class="mb-2">
          <strong>Fecha de Viaje:</strong> <span id="fecha_confirmada"></span>
        </p>
        <p class="mb-2">
          <strong>Hora Salida:</strong> <span id="hora_salida"></span>
        </p>
        <p class="mb-2">
          <strong>Asiento:</strong> <span id="asientos_confirmados"></span>
        </p>
        <p class="mb-2">
          <strong>Tipo de Bus:</strong> <span id="tipo_bus"></span>
        </p>
      </div>

      <!-- Loaders -->
      <div id="loaderReserva" class="alert alert-info mt-3 d-none">
        ⏳ Esperando reserva...
      </div>
      <div id="loaderConfirmacion" class="alert alert-info mt-3 d-none">
        ⏳ Esperando confirmación del boleto...
      </div>

      <div class="mt-3" id="asientos">
        <label for="asientoSelect" class="form-label"
          >Asientos Disponibles</label
        >
        <select id="asientoSelect" class="form-select">
          <option class="mb-2" value="">
            Cargando asientos disponibles...
          </option>
        </select>
      </div>

      <div id="errorMsg" class="alert alert-danger d-none mt-3">
        No se encontró la información del boleto.
      </div>
    </div>
  </body>
</html>
